<!-- <div class="update-match-container">
    <h2>Modifier le match</h2>
  
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
  
    <form [formGroup]="matchForm" (ngSubmit)="updateMatch()">
      <div class="form-group">
        <label for="resultatMatch">Résultat du match</label>
        <input type="text" id="resultatMatch" formControlName="resultatMatch" class="form-control" />
        <div *ngIf="resultatMatch?.invalid && resultatMatch?.touched" class="text-danger">
          Résultat est requis.
        </div>
      </div>
  
      <div class="form-group">
        <label for="dateMatch">Date du match</label>
        <input type="date" id="dateMatch" formControlName="dateMatch" class="form-control" />
        <div *ngIf="dateMatch?.invalid && dateMatch?.touched" class="text-danger">
          La date est requise.
        </div>
      </div>
  
      <div class="form-group">
        <label for="lieuMatch">Lieu du match</label>
        <input type="text" id="lieuMatch" formControlName="lieuMatch" class="form-control" />
        <div *ngIf="lieuMatch?.invalid && lieuMatch?.touched" class="text-danger">
          Lieu est requis.
        </div>
      </div>
  
      <div class="form-group">
        <label for="statusMatch">Statut du match</label>
        <select id="statusMatch" formControlName="statusMatch" class="form-control">
          <option value="">Sélectionnez un statut</option>
          <option value="planned">Planifié</option>
          <option value="completed">Terminé</option>
          <option value="canceled">Annulé</option>
        </select>
        <div *ngIf="statusMatch?.invalid && statusMatch?.touched" class="text-danger">
          Statut est requis.
        </div>
      </div>
  
      <div class="form-group">
        <label for="typeMatch">Type de match</label>
        <select id="typeMatch" formControlName="typeMatch" class="form-control">
          <option value="">Sélectionnez un type</option>
          <option value="friendly">Amical</option>
          <option value="competitive">Compétitif</option>
        </select>
        <div *ngIf="typeMatch?.invalid && typeMatch?.touched" class="text-danger">
          Type de match est requis.
        </div>
      </div>
  
      <div class="form-group">
        <label for="arbitre">Arbitre</label>
        <input type="text" id="arbitre" formControlName="arbitre" class="form-control" />
        <div *ngIf="arbitre?.invalid && arbitre?.touched" class="text-danger">
          L'arbitre est requis.
        </div>
      </div>
  
      <div class="form-group">
        <label for="equipe1">Équipe 1</label>
        <select id="equipe1" formControlName="equipe1" class="form-control">
          <option value="">Sélectionnez une équipe</option>
          <option *ngFor="let team of teams" [value]="team">{{ team }}</option>
        </select>
        <div *ngIf="equipe1?.invalid && equipe1?.touched" class="text-danger">
          Équipe 1 est requise.
        </div>
      </div>
  
      <div class="form-group">
        <label for="equipe2">Équipe 2</label>
        <select id="equipe2" formControlName="equipe2" class="form-control">
          <option value="">Sélectionnez une équipe</option>
          <option *ngFor="let team of teams" [value]="team">{{ team }}</option>
        </select>
        <div *ngIf="equipe2?.invalid && equipe2?.touched" class="text-danger">
          Équipe 2 est requise.
        </div>
      </div>
  
      <button type="submit" class="btn btn-primary" [disabled]="matchForm.invalid">Mettre à jour le match</button>
    </form>
  </div> -->





<!-- 
  <div class="container-fluid p-4">
    <div class="card">
      <div class="card-header bg-success text-white">
        <h2>Update Match Score</h2>
      </div>
      <div class="card-body">
        
        <div *ngIf="loadingData" class="text-center my-5">
          <div class="spinner-border text-success" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
  
        
        <div *ngIf="error" class="alert alert-danger">
          {{ error }}
        </div>
  
        <div *ngIf="!loadingData" class="match-details mb-4">
          <h3 class="text-center mb-3">{{ match.club1?.nameClub }} vs {{ match.club2?.nameClub }}</h3>
          <div class="text-center text-muted mb-3">
            {{ match.dateMatch | date:'medium' }} at {{ match.lieuMatch }}
          </div>
        </div>
  
        <form *ngIf="!loadingData" [formGroup]="goalsForm" (ngSubmit)="onSubmit()">
          <div class="row justify-content-center mb-4">
            <div class="col-md-5 text-center">
              <div class="team-name mb-2">{{ match.club1?.nameClub }}</div>
              <input 
                type="number" 
                id="goals1" 
                formControlName="goals1" 
                class="form-control form-control-lg text-center"
                min="0"
                [ngClass]="{ 'is-invalid': submitted && f['goals1'].errors }"
              >
              <div *ngIf="submitted && f['goals1'].errors" class="invalid-feedback">
                <div *ngIf="f['goals1'].errors['required']">Home team goals is required</div>
                <div *ngIf="f['goals1'].errors['min']">Goals cannot be negative</div>
              </div>
            </div>
            <div class="col-md-2 text-center d-flex align-items-center justify-content-center">
              <span class="fs-1 fw-bold">-</span>
            </div>
            <div class="col-md-5 text-center">
              <div class="team-name mb-2">{{ match.club2?.nameClub }}</div>
              <input 
                type="number" 
                id="goals2" 
                formControlName="goals2" 
                class="form-control form-control-lg text-center"
                min="0"
                [ngClass]="{ 'is-invalid': submitted && f['goals2'].errors }"
              >
              <div *ngIf="submitted && f['goals2'].errors" class="invalid-feedback">
                <div *ngIf="f['goals2'].errors['required']">Away team goals is required</div>
                <div *ngIf="f['goals2'].errors['min']">Goals cannot be negative</div>
              </div>
            </div>
          </div>
          
          
          <div class="d-grid gap-2 d-md-flex justify-content-md-center">
            <button type="button" class="btn btn-secondary me-md-2" (click)="cancel()">Cancel</button>
            <button type="submit" class="btn btn-success" [disabled]="loading">
              <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
              Update Score
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
   -->


   <div class="container-fluid p-4">
    <div class="card">
      <div class="card-header bg-primary text-white">
        <h2>Update Match</h2>
      </div>
      <div class="card-body">
        <!-- Loading spinner -->
        <div *ngIf="loadingData" class="text-center my-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
  
        <!-- Error message -->
        <div *ngIf="error" class="alert alert-danger">
          {{ error }}
        </div>
  
        <form *ngIf="!loadingData" [formGroup]="matchForm" (ngSubmit)="onSubmit()">
          <!-- Date and Location Row -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="dateMatch" class="form-label">Match Date</label>
              <input 
                type="datetime-local" 
                id="dateMatch" 
                formControlName="dateMatch" 
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['dateMatch'].errors }"
              >
              <div *ngIf="submitted && f['dateMatch'].errors" class="invalid-feedback">
                <div *ngIf="f['dateMatch'].errors['required']">Match date is required</div>
              </div>
            </div>
            <div class="col-md-6">
              <label for="lieuMatch" class="form-label">Match Location</label>
              <input 
                type="text" 
                id="lieuMatch" 
                formControlName="lieuMatch" 
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['lieuMatch'].errors }"
              >
              <div *ngIf="submitted && f['lieuMatch'].errors" class="invalid-feedback">
                <div *ngIf="f['lieuMatch'].errors['required']">Match location is required</div>
              </div>
            </div>
          </div>
          
          <!-- Status and Type Row -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="statusMatch" class="form-label">Match Status</label>
              <select 
                id="statusMatch" 
                formControlName="statusMatch" 
                class="form-select"
                [ngClass]="{ 'is-invalid': submitted && f['statusMatch'].errors }"
              >
                <option value="" disabled>Select match status</option>
                <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
              </select>
              <div *ngIf="submitted && f['statusMatch'].errors" class="invalid-feedback">
                <div *ngIf="f['statusMatch'].errors['required']">Match status is required</div>
              </div>
            </div>
            <div class="col-md-6">
              <label for="typeMatch" class="form-label">Match Type</label>
              <select 
                id="typeMatch" 
                formControlName="typeMatch" 
                class="form-select"
                [ngClass]="{ 'is-invalid': submitted && f['typeMatch'].errors }"
              >
                <option value="" disabled>Select match type</option>
                <option *ngFor="let type of typeOptions" [value]="type">{{ type }}</option>
              </select>
              <div *ngIf="submitted && f['typeMatch'].errors" class="invalid-feedback">
                <div *ngIf="f['typeMatch'].errors['required']">Match type is required</div>
              </div>
            </div>
          </div>
          
          <!-- Referee -->
          <div class="row mb-3">
            <div class="col-md-12">
              <label for="arbitre" class="form-label">Referee</label>
              <input 
                type="text" 
                id="arbitre" 
                formControlName="arbitre" 
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['arbitre'].errors }"
              >
              <div *ngIf="submitted && f['arbitre'].errors" class="invalid-feedback">
                <div *ngIf="f['arbitre'].errors['required']">Referee name is required</div>
              </div>
            </div>
          </div>
          
          <!-- Clubs Row -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="club1" class="form-label">Home Team</label>
              <select 
                id="club1" 
                formControlName="club1" 
                class="form-select"
                [ngClass]="{ 'is-invalid': submitted && f['club1'].errors }"
                (change)="onClub1Change()"
              >
                <option value="" disabled>Select home team</option>
                <option *ngFor="let club of clubs" [value]="club.idClub">{{ club.nameClub }}</option>
              </select>
              <div *ngIf="submitted && f['club1'].errors" class="invalid-feedback">
                <div *ngIf="f['club1'].errors['required']">Home team is required</div>
              </div>
            </div>
            <div class="col-md-6">
              <label for="club2" class="form-label">Away Team</label>
              <select 
                id="club2" 
                formControlName="club2" 
                class="form-select"
                [ngClass]="{ 'is-invalid': submitted && f['club2'].errors }"
                (change)="onClub2Change()"
              >
                <option value="" disabled>Select away team</option>
                <option *ngFor="let club of clubs" [value]="club.idClub">{{ club.nameClub }}</option>
              </select>
              <div *ngIf="submitted && f['club2'].errors" class="invalid-feedback">
                <div *ngIf="f['club2'].errors['required']">Away team is required</div>
              </div>
            </div>
          </div>
  
          <!-- Goals Row -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="goals1" class="form-label">Home Team Goals</label>
              <input 
                type="number" 
                id="goals1" 
                formControlName="goals1" 
                class="form-control"
                min="0"
              >
            </div>
            <div class="col-md-6">
              <label for="goals2" class="form-label">Away Team Goals</label>
              <input 
                type="number" 
                id="goals2" 
                formControlName="goals2" 
                class="form-control"
                min="0"
              >
            </div>
          </div>
          
          <!-- Submit button -->
          <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <button type="button" class="btn btn-secondary me-md-2" (click)="cancel()">Cancel</button>
            <button type="submit" class="btn btn-primary" [disabled]="loading">
              <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
              Update Match
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  