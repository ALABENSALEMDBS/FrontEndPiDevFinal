<!-- <div class="container">
    <h2>Update Club</h2>
   -->
    <!-- Form for updating club details -->
    <!-- <form (ngSubmit)="onSubmit(updateClubForm)" #updateClubForm="ngForm"> -->
  
      <!-- Club Name -->
      <!-- <div class="form-group">
        <label for="nameClub">Club Name:</label>
        <input 
          type="text" 
          id="nameClub" 
          name="nameClub" 
          [(ngModel)]="clubData.nameClub" 
          required
          class="form-control" 
          #nameClub="ngModel"
          [placeholder]="clubData.nameClub || 'Enter club name'"
        />
        <div *ngIf="nameClub.invalid && nameClub.touched" class="text-danger">
          Club name is required.
        </div>
      </div> -->
  
      <!-- Email -->
      <!-- <div class="form-group">
        <label for="emailClub">Email:</label>
        <input 
          type="email" 
          id="emailClub" 
          name="emailClub" 
          [(ngModel)]="clubData.emailClub" 
          required
          class="form-control" 
          #emailClub="ngModel"
          [placeholder]="clubData.emailClub || 'Enter email'"
        />
        <div *ngIf="emailClub.invalid && emailClub.touched" class="text-danger">
          Valid email is required.
        </div>
      </div> -->
  
      <!-- Address -->
      <!-- <div class="form-group">
        <label for="adressClub">Address:</label>
        <input 
          type="text" 
          id="adressClub" 
          name="adressClub" 
          [(ngModel)]="clubData.adressClub" 
          required
          class="form-control" 
          #adressClub="ngModel"
          [placeholder]="clubData.adressClub || 'Enter address'"
        />
        <div *ngIf="adressClub.invalid && adressClub.touched" class="text-danger">
          Address is required.
        </div>
      </div> -->
  
      <!-- Date -->
      <!-- <div class="form-group">
        <label for="dateClub">Date:</label>
        <input 
          type="date" 
          id="dateClub" 
          name="dateClub" 
          [(ngModel)]="clubData.dateClub" 
          required
          class="form-control" 
          #dateClub="ngModel"
          [placeholder]="clubData.dateClub || 'Enter date'"
        />
        <div *ngIf="dateClub.invalid && dateClub.touched" class="text-danger">
          Date is required.
        </div>
      </div>
   -->
      <!-- Licence -->
      <!-- <div class="form-group">
        <label for="licenceClub">Licence:</label>
        <input 
          type="text" 
          id="licenceClub" 
          name="licenceClub" 
          [(ngModel)]="clubData.licenceClub" 
          required
          class="form-control" 
          #licenceClub="ngModel"
          [placeholder]="clubData.licenceClub || 'Enter licence'"
        />
        <div *ngIf="licenceClub.invalid && licenceClub.touched" class="text-danger">
          Licence is required.
        </div>
      </div> -->
  
      <!-- File Upload for Logo -->
      <!-- <div class="mb-3">
        <input
              id="mediaUrl"
              type="file"
              class="form-control"                   accept="image/*"
              (change)="onFileSelected($event)"
            >
          </div> -->
  
      <!-- Submit Button -->
      <!-- <button 
        type="submit" 
        [disabled]="updateClubForm.invalid" 
        class="btn btn-primary"
      >

        Update Club
      </button>
    </form>
  </div>


  <style>
    input, select {
      color: black !important;
    }
    input::placeholder {
      color: black !important;
    }
  </style>
  
   -->



















   <div   class="container mt-4">
    <div class="card">
      <div class="card-header bg-primary text-white">
        <h2>Update Club</h2>
      </div>
      <div class="card-body">
        <div *ngIf="loadingClub" class="text-center my-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
  
        <div *ngIf="error" class="alert alert-danger">
          {{ error }}
        </div>
  
        <div *ngIf="successMessage" class="alert alert-success">
          {{ successMessage }}
        </div>
  
        <form *ngIf="!loadingClub && club" [formGroup]="clubForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-md-6">
              <!-- Club Name -->
              <div class="mb-3">
                <label for="nameClub" class="form-label">Club Name</label>
                <input 
                  type="text" 
                  id="nameClub" 
                  formControlName="nameClub" 
                  class="form-control"  
                  [ngClass]="{ 'is-invalid': submitted && clubForm.get('nameClub')?.errors }"
                >
                <div *ngIf="submitted && clubForm.get('nameClub')?.errors" class="invalid-feedback">
                  <div *ngIf="clubForm.get('nameClub')?.errors?.['required']">Club name is required</div>
                </div>
              </div>
              
              <!-- Email -->
              <div class="mb-3">
                <label for="emailClub" class="form-label">Email</label>
                <input 
                  type="email" 
                  id="emailClub" 
                  formControlName="emailClub" 
                  class="form-control"  
                  [ngClass]="{ 'is-invalid': submitted && clubForm.get('emailClub')?.errors }"
                >
                <div *ngIf="submitted && clubForm.get('emailClub')?.errors" class="invalid-feedback">
                  <div *ngIf="clubForm.get('emailClub')?.errors?.['required']">Email is required</div>
                  <div *ngIf="clubForm.get('emailClub')?.errors?.['email']">Please enter a valid email</div>
                </div>
              </div>
              
              <!-- Address -->
              <div class="mb-3">
                <label for="adressClub" class="form-label">Address</label>
                <input 
                  type="text" 
                  id="adressClub" 
                  formControlName="adressClub" 
                  class="form-control"  
                  [ngClass]="{ 'is-invalid': submitted && clubForm.get('adressClub')?.errors }"
                >
                <div *ngIf="submitted && clubForm.get('adressClub')?.errors" class="invalid-feedback">
                  <div *ngIf="clubForm.get('adressClub')?.errors?.['required']">Address is required</div>
                </div>
              </div>
            </div>
            
            <div class="col-md-6">
              <!-- Date -->
              <div class="mb-3">
                <label for="dateClub" class="form-label">Foundation Date</label>
                <input 
                  type="date" 
                  id="dateClub" 
                  formControlName="dateClub" 
                  class="form-control"  
                  [ngClass]="{ 'is-invalid': submitted && clubForm.get('dateClub')?.errors }"
                >
                <div *ngIf="submitted && clubForm.get('dateClub')?.errors" class="invalid-feedback">
                  <div *ngIf="clubForm.get('dateClub')?.errors?.['required']">Foundation date is required</div>
                </div>
              </div>
              
              <!-- License -->
              <div class="mb-3">
                <label for="licenceClub" class="form-label">License Number</label>
                <input 
                  type="number" 
                  id="licenceClub" 
                  formControlName="licenceClub" 
                  class="form-control"  
                  [ngClass]="{ 'is-invalid': submitted && clubForm.get('licenceClub')?.errors }"
                >
                <div *ngIf="submitted && clubForm.get('licenceClub')?.errors" class="invalid-feedback">
                  <div *ngIf="clubForm.get('licenceClub')?.errors?.['required']">License number is required</div>
                  <div *ngIf="clubForm.get('licenceClub')?.errors?.['min']">License number must be positive</div>
                </div>
              </div>
              
              <!-- Logo Upload -->
              <div class="mb-3">
                <label for="logoFile" class="form-label">Club Logo</label>
                <div class="logo-upload-container">
                  <div class="logo-preview" *ngIf="previewUrl">
                    <img [src]="previewUrl" alt="Logo Preview">
                    <button type="button" class="btn btn-sm btn-danger remove-logo" (click)="removeSelectedFile()">
                      <i class="bi bi-x"></i>
                    </button>
                  </div>
                  <div class="upload-box" *ngIf="!previewUrl" (click)="fileInput.click()">
                    <i class="bi bi-cloud-upload"></i>
                    <p>Click to upload logo</p>
                  </div>
                  <input 
                    type="file" 
                    id="logoFile" 
                    #fileInput
                    accept="image/*" 
                    (change)="onFileSelected($event)" 
                    style="display: none;"
                  >
                </div>
                <small class="form-text text-muted">
                  Leave unchanged if you don't want to update the logo.
                </small>
                
                <!-- Upload progress bar -->
                <div *ngIf="isUploading" class="mt-3">
                  <div class="progress">
                    <div 
                      class="progress-bar progress-bar-striped progress-bar-animated" 
                      role="progressbar" 
                      [style.width.%]="uploadProgress"
                      [attr.aria-valuenow]="uploadProgress" 
                      aria-valuemin="0" 
                      aria-valuemax="100">
                      {{ uploadProgress }}%
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Submit button -->
          <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
            <button type="button" class="btn btn-secondary me-md-2" (click)="cancel()">Cancel</button>
            <button type="submit" class="btn btn-primary" [disabled]="loading || isUploading">
              <span *ngIf="loading && !isUploading" class="spinner-border spinner-border-sm me-1"></span>
              Update Club
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <style>
    input, select {
      color: black !important;
    }
    input::placeholder {
      color: black !important;
    }
  </style>