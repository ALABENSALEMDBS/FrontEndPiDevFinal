<div class="container-fluid p-4">
<h2 style="text-align: center; margin-bottom: 20px;">
  List of Subgroups
</h2>

<!-- Ajout du router-outlet ici -->
<router-outlet></router-outlet>

<!-- Bouton Ajouter un Sous-Groupe -->
<div style="display: flex; justify-content: center; margin-bottom: 20px;">
  <button [routerLink]="['addsousgroup']"
          style="background: transparent; color: #28a745; border: 2px solid #28a745; padding: 10px 20px; border-radius: 5px; font-size: 16px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 8px;">
    <i class="fas fa-plus"></i> Add A Subgroup
  </button>
</div>

<div class="carousel-container">
  <div class="carousel-track">
    <img *ngFor="let img of images.concat(images)" [src]="img" alt="Legend">
    <img src="assets/images/images.png" alt="Legend">
    <img src="assets/images/images1.jpeg" alt="Legend">
    <img src="assets/images/images2.png" alt="Legend">
    <img src="assets/images/images3.png" alt="Legend">
    <img src="assets/images/images4.png" alt="Legend">
    <img src="assets/images/images5.jpg" alt="Legend">
    <img src="assets/images/images6png.png" alt="Legend">
    <img src="assets/images/images7.png" alt="Legend">
    <img src="assets/images/images8.png" alt="Legend">
  </div>
</div>

<!-- Liste des Cartes Sous-Groupes -->
<div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
  <div *ngFor="let sg of sousGroupes"class="sous-group-card"
       style="width: 300px; padding: 20px; background: rgba(255, 255, 255, 0.726); backdrop-filter: blur(8px); color: black; text-align: center; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);">
    <h3>{{ sg.nameSousGroup }}</h3>
    <p>Number Of Players : {{ sg.nbrJoueurSousGroup }}</p>

    <!-- Boutons d'Action -->
    <!-- Boutons d'Action avec Icônes -->
<!-- Boutons d'Action avec Icônes et Bordure Colorée -->
<div style="display: flex; justify-content: space-between; margin-top: 15px;">
  <button (click)="deleteSousGroup(sg.idSousGroup)"
          style="background: transparent; color: #dc3545; border: 2px solid #dc3545; padding: 5px 10px; border-radius: 5px; display: flex; align-items: center; gap: 5px; cursor: pointer; transition: 0.3s;">
    <i class="fas fa-trash"></i> DELETE
  </button>

  <button [routerLink]="['update', sg.idSousGroup]"
          style="background: transparent; color: #0a7941; border: 2px solid #0a7941; padding: 5px 10px; border-radius: 5px; display: flex; align-items: center; gap: 5px; cursor: pointer; transition: 0.3s;">
    <i class="fas fa-edit"></i> Update
  </button>
</div>

<button (click)="openChat(sg.idSousGroup)"
        style="background: transparent; color: #17a2b8; border: 2px solid #17a2b8; padding: 5px 10px; border-radius: 5px; display: flex; align-items: center; gap: 5px; cursor: pointer; transition: 0.3s;">
  <i class="fas fa-comments"></i> Rejoindre la Discussion
</button>

<!-- Affichage du chat si le sous-groupe est sélectionné -->
<!-- <div *ngIf="selectedChatId === sg.idSousGroup">
  <app-chat [idSousGroup]="sg.idSousGroup"></app-chat>
</div> -->
<div *ngIf="selectedChatId === sg.idSousGroup">
  <app-chat></app-chat>
</div>


<button (click)="showPlayers(sg.idSousGroup)"
        style="background: transparent; color: #007bff; border: 2px solid #007bff; padding: 5px 10px; border-radius: 5px; display: flex; align-items: center; gap: 5px; cursor: pointer; transition: 0.3s;">
  <i class="fas fa-users"></i> Players
</button>



<!-- Liste des joueurs affichée uniquement si sélectionnée -->
<div *ngIf="selectedSousGroupId === sg.idSousGroup">
  <h4 style="color: black;">Players:</h4>
  <ul style="padding: 0; list-style-type: none;">
    <li *ngFor="let joueur of joueursSousGroupe"
        style="color: black; background-color: #f8f9fa; padding: 5px; margin: 2px 0; border-radius: 5px;">
        <ul>
          <li *ngFor="let joueur of joueursSousGroupe">
            {{ joueur.nameUsers }} {{ joueur.prenomUser }}
          </li>
        </ul>


    </li>
  </ul>
</div>




  </div>
</div>
</div>


