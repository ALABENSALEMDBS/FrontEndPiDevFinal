
<h2 class="titre-fiche text-center mb-4">List of Foods</h2>

<!-- Bouton d'ajout -->
<div class="add-btn-container">
  <button class="btn btn-primary" (click)="goToCreatePage()">➕ ADD Foods</button>
</div>

<div class="container mt-4">

  <!-- Message d'alerte si nécessaire -->
  <div *ngIf="message" class="alert alert-danger">
    {{ message }}
  </div>

  <!-- Titre stylisé -->


  <!-- Grille de cartes -->
  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let nouriture of nourritures">
      <div class="card shadow-sm h-100">
        <img *ngIf="nouriture.imagesN" [src]="nouriture.imagesN" class="card-img-top" alt="Food Image" style="height: 180px; object-fit: cover;">
        <div class="card-body">
          <h5 class="card-title">{{ nouriture.nom }}</h5>
          <p class="card-text"><strong>Recommandation:</strong> {{ nouriture.recommandation }}</p>
          <p class="card-text"><strong>Calories:</strong> {{ nouriture.calories }}</p>
          <div class="d-flex justify-content-between mt-3">
           
            <button class="btn btn-sm btn-warning" (click)="onUpdateNouritureClicked(nouriture)">✏️ Edit</button>
            <button class="btn btn-sm btn-danger" (click)="openConfirmPopup(nouriture)">🗑️ Delete</button>

          </div>
        </div>
      </div>
    </div>
  </div>


<!-- Fenêtre de confirmation -->
<div class="confirm-popup-container" [class.show]="showConfirmPopup">
  <div class="confirm-popup-content">
    <h3>Êtes-vous sûr ?</h3>
    <p>Voulez-vous vraiment supprimer cet aliment ? Cette action est irréversible.</p>
    <div class="popup-actions mt-3">
      <button class="btn btn-secondary me-2" (click)="closeConfirmPopup()">Annuler</button>
      <button class="btn btn-danger" (click)="confirmDelete()">Supprimer</button>
    </div>
  </div>
</div>

</div>
